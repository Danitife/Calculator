<!DOCTYPE html>
<html lang="en">
<style>
    /* table{
            border: 2px solid black;
            border-collapse: collapse;
        } */
    table,
    th,
    td {
        padding: 20px;
        border: 2px solid black;
        border-collapse: collapse;
    }
</style>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="addItem">
        <h3>Add item</h3>
        <input id="foodItems" type="text"> <br><br>
        <input id="itemPrice" type="text"> <br><br>
        <button onclick="tabuletItems()">Submit</button> <br><br>
    </div>

    <div id="editItem">
        <h3>Edit item</h3>
        <input id="editfoodItems" type="text"> <br><br>
        <input id="edititemPrice" type="text"> <br><br>
        <button onclick="changeValue()">Submit</button> <br><br>
    </div>

    <!-- <input type="checkbox"> -->
    <h5>Total: <span id="totalAmount"></span></h5>
    <table id="table">
        <thead id="thead">
            <th>Food Item</th>
            <th>Item Price</th>
            <th>Purchased</th>
            <th>Actions</th>
        </thead>
        <tbody id="tbody">

        </tbody>
    </table>
</body>

</html>

<script>
    let addItem = document.getElementById("addItem")
    let editItem = document.getElementById("editItem")
    let foodItems = document.getElementById("foodItems")
    let editfoodItems = document.getElementById("editfoodItems")
    let itemPrice = document.getElementById("itemPrice")
    let edititemPrice = document.getElementById("edititemPrice")

    let luggage = []

    editItem.style.display = "none"


    function tabuletItems() {
        let myToDo = {
            foodItems: foodItems.value,
            itemPrice: itemPrice.value,
            purchased: ``
        }
        if (
            foodItems.value == "" ||
            itemPrice.value == ""
        ) {
            alert("A field is empty");
            return;
        } else {

            luggage.push(myToDo)
            console.log(luggage);

            dispTable()
           
        }
    }

    function dispTable() {
        document.getElementById("tbody").innerHTML = ""
        
        luggage.forEach((el)=>{
            document.getElementById("tbody").innerHTML += `
         <tr>
            <td>${el.foodItems}</td>
            <td>${el.itemPrice}</td>
            <td><input onclick= "purchased" type="checkbox"></td>
            <td>
                <button onclick="showEditDiv()">Edit</button>    
                <button>Del</button>    
            </td>
        </tr>`
        })
    }

    function showEditDiv() {
        addItem.style.display = "none"
        editItem.style.display = "block"
    }

    function changeValue() {
        let data = {
            foodItems: editfoodItems.value,
            itemPrice: edititemPrice.value,
        }
        console.log(data);
        luggage.splice(0, 1, data)
        dispTable()
    }
</script>